From fed361984a9bf354436df70ba6fbfe3889b64d85 Mon Sep 17 00:00:00 2001
From: Matyas Selmeci <matyas@cs.wisc.edu>
Date: Fri, 13 Nov 2020 11:56:54 -0600
Subject: [PATCH] Don't try to resolve squid server -- it only needs to be
 visible from the workers, not the CE

---
 osg_configure/configure_modules/squid.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/osg_configure/configure_modules/squid.py b/osg_configure/configure_modules/squid.py
index 23fc790..12cd6f9 100644
--- a/osg_configure/configure_modules/squid.py
+++ b/osg_configure/configure_modules/squid.py
@@ -102,7 +102,7 @@ def check_attributes(self, attributes):
             attributes_ok = False
             return attributes_ok
         (hostname, port) = self.options['location'].value.split(':')
-        if not validation.valid_domain(hostname, True):
+        if not validation.valid_domain(hostname, False):
             self.log("Invalid hostname for squid location: %s" % \
                      self.options['location'].value,
                      section=self.config_section,
